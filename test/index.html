<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>gpx-parser</title>
    <script src="../lib/gpx-parser.js"></script>
    <script src="chart/Chart.js"></script>
</head>

<body>
    <canvas id="line" width="1000" height="500"></canvas>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            gpx = new gpxParser();
            gpx.parse('<?xml version="1.0" encoding="UTF-8"?><gpx version="1.0" creator="GPSBabel - http://www.gpsbabel.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.topografix.com/GPX/1/0" xsi:schemaLocation="http://www.topografix.com/GPX/1/0 http://www.topografix.com/GPX/1/0/gpx.xsd"><time>2015-04-18T15:55:07Z</time><bounds minlat="48.536840000" minlon="-0.531720000" maxlat="48.572010000" maxlon="-0.440440000"/><rte><name>--Beaulandais-- OR-4645938:22Km - La chapelle/Bagnoles/SteGenevieve</name><desc>Generated from track --Beaulandais-- OR-4645938:22Km - La chapelle/Bagnoles/SteGenevieve</desc><rtept lat="48.537130000" lon="-0.531720000"><ele>138.000000</ele><name>RPT001</name></rtept><rtept lat="48.543490000" lon="-0.525920000"><ele>140.000000</ele><name>RPT002</name></rtept><rtept lat="48.544540000" lon="-0.526270000"><ele>144.000000</ele><name>RPT003</name></rtept><rtept lat="48.546930000" lon="-0.521200000"><ele>145.000000</ele><name>RPT004</name></rtept><rtept lat="48.551270000" lon="-0.516870000"><ele>162.000000</ele><name>RPT005</name></rtept><rtept lat="48.550850000" lon="-0.511720000"><ele>158.000000</ele><name>RPT006</name></rtept><rtept lat="48.549850000" lon="-0.510900000"><ele>157.000000</ele><name>RPT007</name></rtept><rtept lat="48.550050000" lon="-0.506010000"><ele>179.000000</ele><name>RPT008</name></rtept><rtept lat="48.550850000" lon="-0.505840000"><ele>188.000000</ele><name>RPT009</name></rtept><rtept lat="48.549080000" lon="-0.496870000"><ele>180.000000</ele><name>RPT010</name></rtept><rtept lat="48.544400000" lon="-0.497510000"><ele>149.000000</ele><name>RPT011</name></rtept><rtept lat="48.542410000" lon="-0.488330000"><ele>145.000000</ele><name>RPT012</name></rtept><rtept lat="48.538800000" lon="-0.484940000"><ele>142.000000</ele><name>RPT013</name></rtept><rtept lat="48.539770000" lon="-0.481550000"><ele>150.000000</ele><name>RPT014</name></rtept><rtept lat="48.538430000" lon="-0.480180000"><ele>153.000000</ele><name>RPT015</name></rtept><rtept lat="48.536840000" lon="-0.475630000"><ele>145.000000</ele><name>RPT016</name></rtept><rtept lat="48.539570000" lon="-0.474430000"><ele>164.000000</ele><name>RPT017</name></rtept><rtept lat="48.538460000" lon="-0.472800000"><ele>156.000000</ele><name>RPT018</name></rtept><rtept lat="48.538490000" lon="-0.470910000"><ele>163.000000</ele><name>RPT019</name></rtept><rtept lat="48.541530000" lon="-0.466230000"><ele>192.000000</ele><name>RPT020</name></rtept><rtept lat="48.538370000" lon="-0.460220000"><ele>186.000000</ele><name>RPT021</name></rtept><rtept lat="48.539880000" lon="-0.458930000"><ele>187.000000</ele><name>RPT022</name></rtept><rtept lat="48.539570000" lon="-0.454510000"><ele>164.000000</ele><name>RPT023</name></rtept><rtept lat="48.544310000" lon="-0.453100000"><ele>167.000000</ele><name>RPT024</name></rtept><rtept lat="48.548430000" lon="-0.448200000"><ele>175.000000</ele><name>RPT025</name></rtept><rtept lat="48.551900000" lon="-0.447430000"><ele>176.000000</ele><name>RPT026</name></rtept><rtept lat="48.552780000" lon="-0.443870000"><ele>179.000000</ele><name>RPT027</name></rtept><rtept lat="48.555140000" lon="-0.443400000"><ele>194.000000</ele><name>RPT028</name></rtept><rtept lat="48.554680000" lon="-0.441120000"><ele>201.000000</ele><name>RPT029</name></rtept><rtept lat="48.557950000" lon="-0.440440000"><ele>229.000000</ele><name>RPT030</name></rtept><rtept lat="48.559340000" lon="-0.441770000"><ele>236.000000</ele><name>RPT031</name></rtept><rtept lat="48.559790000" lon="-0.444130000"><ele>245.000000</ele><name>RPT032</name></rtept><rtept lat="48.560620000" lon="-0.444340000"><ele>245.000000</ele><name>RPT033</name></rtept><rtept lat="48.569170000" lon="-0.478290000"><ele>261.000000</ele><name>RPT034</name></rtept><rtept lat="48.572010000" lon="-0.503520000"><ele>262.000000</ele><name>RPT035</name></rtept><rtept lat="48.569510000" lon="-0.506780000"><ele>219.000000</ele><name>RPT036</name></rtept><rtept lat="48.569310000" lon="-0.510520000"><ele>215.000000</ele><name>RPT037</name></rtept><rtept lat="48.567720000" lon="-0.511930000"><ele>205.000000</ele><name>RPT038</name></rtept><rtept lat="48.568290000" lon="-0.516530000"><ele>217.000000</ele><name>RPT039</name></rtept><rtept lat="48.570100000" lon="-0.519920000"><ele>234.000000</ele><name>RPT040</name></rtept><rtept lat="48.562290000" lon="-0.522110000"><ele>209.000000</ele><name>RPT041</name></rtept><rtept lat="48.560160000" lon="-0.526100000"><ele>226.000000</ele><name>RPT042</name></rtept><rtept lat="48.558090000" lon="-0.518930000"><ele>210.000000</ele><name>RPT043</name></rtept><rtept lat="48.553000000" lon="-0.513520000"><ele>184.000000</ele><name>RPT044</name></rtept><rtept lat="48.551390000" lon="-0.513090000"><ele>166.000000</ele><name>RPT045</name></rtept><rtept lat="48.551070000" lon="-0.516700000"><ele>156.000000</ele><name>RPT046</name></rtept><rtept lat="48.546530000" lon="-0.521080000"><ele>145.000000</ele><name>RPT047</name></rtept><rtept lat="48.544450000" lon="-0.525750000"><ele>141.000000</ele><name>RPT048</name></rtept><rtept lat="48.543260000" lon="-0.525540000"><ele>140.000000</ele><name>RPT049</name></rtept><rtept lat="48.537010000" lon="-0.531330000"><ele>136.000000</ele><name>RPT050</name></rtept></rte><trk><name>--Beaulandais-- OR-4645938:22Km - La chapelle/Bagnoles/SteGenevieve</name><trkseg><trkpt lat="48.537130000" lon="-0.531720000"><ele>138.000000</ele></trkpt><trkpt lat="48.543490000" lon="-0.525920000"><ele>140.000000</ele></trkpt><trkpt lat="48.544540000" lon="-0.526270000"><ele>144.000000</ele></trkpt><trkpt lat="48.546930000" lon="-0.521200000"><ele>145.000000</ele></trkpt><trkpt lat="48.551270000" lon="-0.516870000"><ele>162.000000</ele></trkpt><trkpt lat="48.550850000" lon="-0.511720000"><ele>158.000000</ele></trkpt><trkpt lat="48.549850000" lon="-0.510900000"><ele>157.000000</ele></trkpt><trkpt lat="48.550050000" lon="-0.506010000"><ele>179.000000</ele></trkpt><trkpt lat="48.550850000" lon="-0.505840000"><ele>188.000000</ele></trkpt><trkpt lat="48.549080000" lon="-0.496870000"><ele>180.000000</ele></trkpt><trkpt lat="48.544400000" lon="-0.497510000"><ele>149.000000</ele></trkpt><trkpt lat="48.542410000" lon="-0.488330000"><ele>145.000000</ele></trkpt><trkpt lat="48.538800000" lon="-0.484940000"><ele>142.000000</ele></trkpt><trkpt lat="48.539770000" lon="-0.481550000"><ele>150.000000</ele></trkpt><trkpt lat="48.538430000" lon="-0.480180000"><ele>153.000000</ele></trkpt><trkpt lat="48.536840000" lon="-0.475630000"><ele>145.000000</ele></trkpt><trkpt lat="48.539570000" lon="-0.474430000"><ele>164.000000</ele></trkpt><trkpt lat="48.538460000" lon="-0.472800000"><ele>156.000000</ele></trkpt><trkpt lat="48.538490000" lon="-0.470910000"><ele>163.000000</ele></trkpt><trkpt lat="48.541530000" lon="-0.466230000"><ele>192.000000</ele></trkpt><trkpt lat="48.538370000" lon="-0.460220000"><ele>186.000000</ele></trkpt><trkpt lat="48.539880000" lon="-0.458930000"><ele>187.000000</ele></trkpt><trkpt lat="48.539570000" lon="-0.454510000"><ele>164.000000</ele></trkpt><trkpt lat="48.544310000" lon="-0.453100000"><ele>167.000000</ele></trkpt><trkpt lat="48.548430000" lon="-0.448200000"><ele>175.000000</ele></trkpt><trkpt lat="48.551900000" lon="-0.447430000"><ele>176.000000</ele></trkpt><trkpt lat="48.552780000" lon="-0.443870000"><ele>179.000000</ele></trkpt><trkpt lat="48.555140000" lon="-0.443400000"><ele>194.000000</ele></trkpt><trkpt lat="48.554680000" lon="-0.441120000"><ele>201.000000</ele></trkpt><trkpt lat="48.557950000" lon="-0.440440000"><ele>229.000000</ele></trkpt><trkpt lat="48.559340000" lon="-0.441770000"><ele>236.000000</ele></trkpt><trkpt lat="48.559790000" lon="-0.444130000"><ele>245.000000</ele></trkpt><trkpt lat="48.560620000" lon="-0.444340000"><ele>245.000000</ele></trkpt><trkpt lat="48.569170000" lon="-0.478290000"><ele>261.000000</ele></trkpt><trkpt lat="48.572010000" lon="-0.503520000"><ele>262.000000</ele></trkpt><trkpt lat="48.569510000" lon="-0.506780000"><ele>219.000000</ele></trkpt><trkpt lat="48.569310000" lon="-0.510520000"><ele>215.000000</ele></trkpt><trkpt lat="48.567720000" lon="-0.511930000"><ele>205.000000</ele></trkpt><trkpt lat="48.568290000" lon="-0.516530000"><ele>217.000000</ele></trkpt><trkpt lat="48.570100000" lon="-0.519920000"><ele>234.000000</ele></trkpt><trkpt lat="48.562290000" lon="-0.522110000"><ele>209.000000</ele></trkpt><trkpt lat="48.560160000" lon="-0.526100000"><ele>226.000000</ele></trkpt><trkpt lat="48.558090000" lon="-0.518930000"><ele>210.000000</ele></trkpt><trkpt lat="48.553000000" lon="-0.513520000"><ele>184.000000</ele></trkpt><trkpt lat="48.551390000" lon="-0.513090000"><ele>166.000000</ele></trkpt><trkpt lat="48.551070000" lon="-0.516700000"><ele>156.000000</ele></trkpt><trkpt lat="48.546530000" lon="-0.521080000"><ele>145.000000</ele></trkpt><trkpt lat="48.544450000" lon="-0.525750000"><ele>141.000000</ele></trkpt><trkpt lat="48.543260000" lon="-0.525540000"><ele>140.000000</ele></trkpt><trkpt lat="48.537010000" lon="-0.531330000"><ele>136.000000</ele></trkpt></trkseg></trk></gpx>');

            var ctx = document.getElementById("line").getContext("2d");

            var data = {
                labels :gpx.cumulDistance,
                datasets: [
                    {
                        label: "My First dataset",
                        fillColor: "rgba(220,220,220,0.2)",
                        strokeColor: "rgba(220,220,220,1)",
                        pointColor: "rgba(220,220,220,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(220,220,220,1)",
                        data: gpx.elevation
                    }
                ]
            };

            var myLineChart = new Chart(ctx).Line(data,{bezierCurve : false});
        });
    </script>
</body>

</html>
